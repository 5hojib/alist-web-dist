import{v as e,af as c,ao as j,w as $,x as h,aJ as p,a7 as b,aI as k,aL as I,cs as u,ar as _,B as o,bJ as v,am as C,an as y,f as M,P as g,o as m,c6 as L,l as d,bs as S,bt as E}from"./index.0dd4a88f.js";import{b as G}from"./Folder.12d9dd44.js";import{u as O}from"./index.5310aa52.js";import{c as z,b as A,M as F}from"./Layout.ac264251.js";import{I as H}from"./ImageWithError.89fe8371.js";import{O as P,g as B}from"./icon.5a4761d6.js";import{G as J}from"./GridItem.7625b9f1.js";import"./video_box.6d7d9200.js";import"./index.de637a18.js";import"./Paginator.ca91056c.js";import"./index.f0f98b5f.js";import"./api.0be791e7.js";import"./FolderTree.56a9f2b7.js";const T=t=>{const{isHide:s}=z();if(s(t.obj)||t.obj.type!==P.IMAGE)return null;const{setPathAs:n}=O(),r=e(j,{get color(){return c()},boxSize:"$12",get as(){return B(t.obj)}}),[a,l]=$(!1),f=h(()=>p()&&(a()||t.obj.selected)),{show:w}=G({id:1}),{rawLink:x}=A();return e(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},style:{"flex-grow":1},get children(){return e(b,{w:"$full",class:"image-item",p:"$1",spacing:"$1",rounded:"$lg",transition:"all 0.3s",border:"2px solid transparent",get _hover(){return{border:`2px solid ${c()}`}},onMouseEnter:()=>{l(!0),n(t.obj.name,t.obj.is_dir,!0)},onMouseLeave:()=>{l(!1)},onContextMenu:i=>{k(()=>{I(!1),u(t.index,!0,!0)}),w(i,{props:t.obj})},get children(){return e(_,{w:"$full",pos:"relative",get children(){return[e(o,{get when(){return f()},get children(){return e(v,{pos:"absolute",left:"$1",top:"$1",get checked(){return t.obj.selected},onChange:i=>{u(t.index,i.target.checked)}})}}),e(H,{h:"150px",w:"$full",objectFit:"cover",rounded:"$lg",shadow:"$md",get fallback(){return e(C,{size:"lg"})},fallbackErr:r,get src(){return x(t.obj)},loading:"lazy",onClick:()=>{y.emit("gallery",t.obj.name)}})]}})}})}})},te=t=>{const s=M(),n=h(()=>e(L,{w:"$full",gap:"$1",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",class:"image-folders",get children(){return e(g,{get each(){return m.objs.filter(r=>r.is_dir)},children:(r,a)=>e(J,{obj:r,get index(){return a()}})})}}));return e(b,{spacing:"$2",w:"$full",get children(){return[e(o,{get when(){return d.show_folder_in_image_view==="top"},get children(){return n()}}),e(o,{get when(){return t.images.length>0},get fallback(){return e(S,{m:"$2",get children(){return s("home.no_images")}})},get children(){return e(E,{w:"$full",gap:"$1",flexWrap:"wrap",class:"image-images",get children(){return e(g,{get each(){return m.objs},children:(r,a)=>e(T,{obj:r,get index(){return a()}})})}})}}),e(o,{get when(){return d.show_folder_in_image_view==="bottom"},get children(){return n()}})]}})};export{te as default};
